{"version":3,"sources":["webpack://gatsby-starter-blog/./src/components/strategy-selector/Strategy.js"],"names":["Strategy","title","text","hasAdditionalPoint","useState","isOpen","setIsOpen","isSelected","setIsSelected","isSuccess","setIsSuccess","isEnd","setIsEnd","setSelected","e","stopPropagation","setAdditionalPoint","setSuccess","finish","additionalPoint","css","strategyStyles","activeStrategyStyles","disabledStrategyStyles","succeedStrategyStyles","onClick","titleStyles","titleCloseStyles","additionalPointStyles","textStyles","buttonStyles","buttonFailureStyles","buttonCancelStyles"],"mappings":"4jBAGaA,EAAW,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,KAAuC,IAAjCC,0BAAiC,SACvE,GAA4BC,eAAS,GAA9BC,EAAP,KAAeC,EAAf,KAGA,GAAoCF,eAAS,GAAtCG,EAAP,KAAmBC,EAAnB,KACA,GAAkCJ,eAAS,GAApCK,EAAP,KAAkBC,EAAlB,KACA,GAA0BN,eAAS,GAA5BO,EAAP,KAAcC,EAAd,KACMC,EAAc,SAACC,GACnBA,EAAEC,kBACFP,GAAc,GACdF,GAAU,GAEVI,GAAa,GACbE,GAAS,GACTI,GAAmB,IAEfC,EAAa,SAACH,GAClBI,EAAOJ,GACPJ,GAAa,IAKTQ,EAAS,SAACJ,GACdA,EAAEC,kBACFH,GAAS,GACTJ,GAAc,GACdF,GAAU,IAOZ,GAA8CF,eAAS,GAAhDe,EAAP,KAAwBH,EAAxB,KAMA,OACE,eAAKI,IAAG,IACN,eAAKA,IAAG,CACNC,EACAd,GAAce,EACdX,GAASY,EACTd,GAAae,EAJP,OAKJC,QA7CW,kBAAMnB,GAAWD,MA8C9B,eAAKe,IAAG,CAAGM,EAAarB,GAAUsB,EAA1B,QACL1B,EACAkB,IAAmB,gBAAMC,IAAKQ,GAAX,QAEtB,eAAKR,IAAG,CAAGS,EAAYxB,GAAY,iBAA3B,QAAuCH,GAC9CS,IACC,eAAKS,IAAG,GACHb,IAAc,kBAAQa,IAAKU,EAAcL,QAASZ,GAApC,MACdN,IACC,eAAKa,IAAG,IACN,kBAAQA,IAAKU,EAAcL,QAASR,GAApC,MACCd,IAAsB,kBAAQiB,IAAKU,EAAcL,QAxB5B,SAACX,GACrCG,EAAWH,GACXE,GAAmB,KAsBkB,SACvB,kBAAQI,IAAG,CAAGU,EAAcC,EAAjB,OAAuCN,QAxC/C,SAACX,GAClBI,EAAOJ,KAuCO,OACA,kBAAQM,IAAG,CAAGU,EAAcE,EAAjB,OAAsCP,QAhClD,SAACX,GACdA,EAAEC,kBACFP,GAAc,KA8BA,WAKRG,GAASN,IAAW,kBAAQe,IAAG,CAAGU,EAAcE,EAAjB,yBAAgDP,QAASZ,GAApE,SAMxBQ,EAAc,wGAIdC,EAAoB,uGAIpBC,EAAsB,6KAItBC,EAAqB,uGAIrBE,EAAW,ylBAQXC,EAAgB,iHAMhBC,EAAqB,gTAKrBC,EAAU,4EAKVC,EAAY,wUAIZE,EAAkB,uGAIlBD,EAAmB","file":"d49ad6813f7b3cd39f03d5f113558a38b51ac11d-3aefa2463d05605f18bd.js","sourcesContent":["import React, { useState } from 'react';\nimport tw, { css } from 'twin.macro'\n\nexport const Strategy = ({ title, text, hasAdditionalPoint = false }) => {\n  const [isOpen, setIsOpen] = useState(true);\n  const toggleText = () => setIsOpen(!isOpen);\n\n  const [isSelected, setIsSelected] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isEnd, setIsEnd] = useState(false);\n  const setSelected = (e) => {\n    e.stopPropagation();\n    setIsSelected(true);\n    setIsOpen(true);\n    // init的なものを作っておくべきか\n    setIsSuccess(false);\n    setIsEnd(false);\n    setAdditionalPoint(false);\n  }\n  const setSuccess = (e) => {\n    finish(e);\n    setIsSuccess(true);\n  };\n  const setFailure = (e) => {\n    finish(e);\n  };\n  const finish = (e) => {\n    e.stopPropagation();\n    setIsEnd(true);\n    setIsSelected(false);\n    setIsOpen(false);\n  }\n  const cancel = (e) => {\n    e.stopPropagation();\n    setIsSelected(false);\n  }\n\n  const [additionalPoint, setAdditionalPoint] = useState(false);\n  const setSuccessWithAdditionalPoint = (e) => {\n    setSuccess(e);\n    setAdditionalPoint(true);\n  };\n\n  return (\n    <div css={tw`border-b border-black`}>\n      <div css={[\n        strategyStyles,\n        isSelected && activeStrategyStyles,\n        isEnd && disabledStrategyStyles,\n        isSuccess && succeedStrategyStyles\n      ]}  onClick={toggleText}>\n        <div css={[titleStyles, isOpen || titleCloseStyles]}>\n          {title}\n          {additionalPoint && <span css={additionalPointStyles}>+1</span>}\n        </div>\n        <div css={[textStyles, isOpen || tw`hidden`]}>{text}</div>\n        {isEnd ||\n          <div css={tw`mt-2`}>\n              {isSelected || <button css={buttonStyles} onClick={setSelected}>選択</button>}\n              {isSelected &&\n                <div css={tw`flex space-x-4`}>\n                  <button css={buttonStyles} onClick={setSuccess}>達成</button>\n                  {hasAdditionalPoint && <button css={buttonStyles} onClick={setSuccessWithAdditionalPoint}>+1VP</button>}\n                  <button css={[buttonStyles, buttonFailureStyles]} onClick={setFailure}>失敗</button>\n                  <button css={[buttonStyles, buttonCancelStyles]} onClick={cancel}>キャンセル</button>\n                </div>\n              }\n          </div>\n        }\n        {(isEnd && isOpen) && <button css={[buttonStyles, buttonCancelStyles, tw`mt-2`]} onClick={setSelected}>修正</button>}\n      </div>\n    </div>\n  )\n}\n\nconst strategyStyles = css`\n  ${tw`px-4 py-2`}\n`;\n\nconst activeStrategyStyles = css`\n  ${tw`bg-red-200`}\n`;\n\nconst disabledStrategyStyles = css`\n  ${tw`bg-gray-50 text-gray-400`}\n`;\n\nconst succeedStrategyStyles = css`\n  ${tw`bg-green-50`}\n`;\n\nconst titleStyles = css`\n  ${tw`relative font-bold`}\n  &::after {\n    ${tw`absolute top-2 right-0 block w-2 h-2 border-r border-t border-black transform -rotate-45`}\n    content: ''\n  }\n`;\n\nconst titleCloseStyles = css`\n  &::after {\n    ${tw`top-1 border-b border-t-0 rotate-45`}\n  }\n`;\n\nconst additionalPointStyles = css`\n  ${tw`relative inline-block ml-2 px-2 font-normal text-xs border border-gray-400 rounded`}\n  top: -2px;\n`;\n\nconst textStyles = css`\n  ${tw`text-xs`}\n  font-size: 10px;\n`;\n\nconst buttonStyles = css`\n  ${tw`block px-4 py-1 bg-green-500 rounded text-white text-sm`}\n`;\n\nconst buttonCancelStyles = css`\n  ${tw`bg-gray-400`}\n`;\n\nconst buttonFailureStyles = css`\n  ${tw`bg-red-500`}\n`;"],"sourceRoot":""}