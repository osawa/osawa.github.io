{"version":3,"file":"component---src-pages-strategy-selector-js-5edbe08eabf5967b4f6b.js","mappings":"ykBAGaA,EAAW,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,KAAuC,IAAjCC,mBAAAA,OAAiC,SACvE,GAA4BC,EAAAA,EAAAA,WAAS,GAA9BC,EAAP,KAAeC,EAAf,KAGA,GAAoCF,EAAAA,EAAAA,WAAS,GAAtCG,EAAP,KAAmBC,EAAnB,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAApCK,EAAP,KAAkBC,EAAlB,KACA,GAA0BN,EAAAA,EAAAA,WAAS,GAA5BO,EAAP,KAAcC,EAAd,KACMC,EAAc,SAACC,GACnBA,EAAEC,kBACFP,GAAc,GACdF,GAAU,GAEVI,GAAa,GACbE,GAAS,GACTI,GAAmB,IAEfC,EAAa,SAACH,GAClBI,EAAOJ,GACPJ,GAAa,IAKTQ,EAAS,SAACJ,GACdA,EAAEC,kBACFH,GAAS,GACTJ,GAAc,GACdF,GAAU,IAOZ,GAA8CF,EAAAA,EAAAA,WAAS,GAAhDe,EAAP,KAAwBH,EAAxB,KAMA,OACE,eAAKI,IAAG,IACN,eAAKA,IAAG,CACNC,EACAd,GAAce,EACdX,GAASY,EACTd,GAAae,EAJP,OAKJC,QA7CW,kBAAMnB,GAAWD,MA8C9B,eAAKe,IAAG,CAAGM,EAAarB,GAAUsB,EAA1B,QACL1B,EACAkB,IAAmB,gBAAMC,IAAKQ,GAAX,QAEtB,eAAKR,IAAG,CAAGS,EAAYxB,GAAY,iBAA3B,QAAuCH,GAC9CS,IACC,eAAKS,IAAG,GACHb,IAAc,kBAAQa,IAAKU,EAAcL,QAASZ,GAApC,MACdN,IACC,eAAKa,IAAG,IACN,kBAAQA,IAAKU,EAAcL,QAASR,GAApC,MACCd,IAAsB,kBAAQiB,IAAKU,EAAcL,QAxB5B,SAACX,GACrCG,EAAWH,GACXE,GAAmB,KAsBkB,SACvB,kBAAQI,IAAG,CAAGU,EAAcC,EAAjB,OAAuCN,QAxC/C,SAACX,GAClBI,EAAOJ,KAuCO,OACA,kBAAQM,IAAG,CAAGU,EAAcE,EAAjB,OAAsCP,QAhClD,SAACX,GACdA,EAAEC,kBACFP,GAAc,KA8BA,WAKRG,GAASN,IAAW,kBAAQe,IAAG,CAAGU,EAAcE,EAAjB,yBAAgDP,QAASZ,GAApE,SAMxBQ,EAAc,wGAIdC,EAAoB,uGAIpBC,EAAsB,6KAItBC,EAAqB,uGAIrBE,EAAW,4UAQXC,EAAgB,8IAMhBC,EAAqB,gTAKrBC,EAAU,4EAKVC,EAAY,wUAIZE,EAAkB,uGAIlBD,EAAmB,oG,0ZCjEzB,EArDyB,WAGvB,OACE,eAAKX,IAAG,IACN,eAAKA,IAAG,IACN,cAAIA,IAAG,GAAP,qBACA,4BANU,WAQZ,oBAEE,QAACpB,EAAD,CACEC,MAAM,OACNC,KAAK,+JACLC,oBAAkB,KAEpB,QAACH,EAAD,CACEC,MAAM,KACNC,KAAK,8FAEP,QAACF,EAAD,CACEC,MAAM,QACNC,KAAK,qGACLC,oBAAkB,KAEpB,QAACH,EAAD,CACEC,MAAM,QACNC,KAAK,uJACLC,oBAAkB,KAEpB,QAACH,EAAD,CACEC,MAAM,QACNC,KAAK,gJACLC,oBAAkB,KAEpB,QAACH,EAAD,CACEC,MAAM,SACNC,KAAK,+FAEP,QAACF,EAAD,CACEC,MAAM,QACNC,KAAK,gJAEP,QAACF,EAAD,CACEC,MAAM,SACNC,KAAK,0GACLC,oBAAkB","sources":["webpack://gatsby-starter-blog/./src/components/strategy-selector/Strategy.js","webpack://gatsby-starter-blog/./src/pages/strategy-selector.js"],"sourcesContent":["import React, { useState } from 'react';\nimport tw, { css } from 'twin.macro'\n\nexport const Strategy = ({ title, text, hasAdditionalPoint = false }) => {\n  const [isOpen, setIsOpen] = useState(true);\n  const toggleText = () => setIsOpen(!isOpen);\n\n  const [isSelected, setIsSelected] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isEnd, setIsEnd] = useState(false);\n  const setSelected = (e) => {\n    e.stopPropagation();\n    setIsSelected(true);\n    setIsOpen(true);\n    // init的なものを作っておくべきか\n    setIsSuccess(false);\n    setIsEnd(false);\n    setAdditionalPoint(false);\n  }\n  const setSuccess = (e) => {\n    finish(e);\n    setIsSuccess(true);\n  };\n  const setFailure = (e) => {\n    finish(e);\n  };\n  const finish = (e) => {\n    e.stopPropagation();\n    setIsEnd(true);\n    setIsSelected(false);\n    setIsOpen(false);\n  }\n  const cancel = (e) => {\n    e.stopPropagation();\n    setIsSelected(false);\n  }\n\n  const [additionalPoint, setAdditionalPoint] = useState(false);\n  const setSuccessWithAdditionalPoint = (e) => {\n    setSuccess(e);\n    setAdditionalPoint(true);\n  };\n\n  return (\n    <div css={tw`border-b border-black`}>\n      <div css={[\n        strategyStyles,\n        isSelected && activeStrategyStyles,\n        isEnd && disabledStrategyStyles,\n        isSuccess && succeedStrategyStyles\n      ]}  onClick={toggleText}>\n        <div css={[titleStyles, isOpen || titleCloseStyles]}>\n          {title}\n          {additionalPoint && <span css={additionalPointStyles}>+1</span>}\n        </div>\n        <div css={[textStyles, isOpen || tw`hidden`]}>{text}</div>\n        {isEnd ||\n          <div css={tw`mt-2`}>\n              {isSelected || <button css={buttonStyles} onClick={setSelected}>選択</button>}\n              {isSelected &&\n                <div css={tw`flex space-x-4`}>\n                  <button css={buttonStyles} onClick={setSuccess}>達成</button>\n                  {hasAdditionalPoint && <button css={buttonStyles} onClick={setSuccessWithAdditionalPoint}>+1VP</button>}\n                  <button css={[buttonStyles, buttonFailureStyles]} onClick={setFailure}>失敗</button>\n                  <button css={[buttonStyles, buttonCancelStyles]} onClick={cancel}>キャンセル</button>\n                </div>\n              }\n          </div>\n        }\n        {(isEnd && isOpen) && <button css={[buttonStyles, buttonCancelStyles, tw`mt-2`]} onClick={setSelected}>修正</button>}\n      </div>\n    </div>\n  )\n}\n\nconst strategyStyles = css`\n  ${tw`px-4 py-2`}\n`;\n\nconst activeStrategyStyles = css`\n  ${tw`bg-red-200`}\n`;\n\nconst disabledStrategyStyles = css`\n  ${tw`bg-gray-50 text-gray-400`}\n`;\n\nconst succeedStrategyStyles = css`\n  ${tw`bg-green-50`}\n`;\n\nconst titleStyles = css`\n  ${tw`relative font-bold`}\n  &::after {\n    ${tw`absolute top-2 right-0 block w-2 h-2 border-r border-t border-black transform -rotate-45`}\n    content: ''\n  }\n`;\n\nconst titleCloseStyles = css`\n  &::after {\n    ${tw`top-1 border-b border-t-0 rotate-45`}\n  }\n`;\n\nconst additionalPointStyles = css`\n  ${tw`relative inline-block ml-2 px-2 font-normal text-xs border border-gray-400 rounded`}\n  top: -2px;\n`;\n\nconst textStyles = css`\n  ${tw`text-xs`}\n  font-size: 10px;\n`;\n\nconst buttonStyles = css`\n  ${tw`block px-4 py-1 bg-green-500 rounded text-white text-sm`}\n`;\n\nconst buttonCancelStyles = css`\n  ${tw`bg-gray-400`}\n`;\n\nconst buttonFailureStyles = css`\n  ${tw`bg-red-500`}\n`;","import React, { useState } from 'react';\nimport tw, { css } from 'twin.macro'\n\nimport { Strategy } from \"../components/strategy-selector/Strategy\"\n\nconst StrategySelector = () => {\n  const version = '0.1.3';\n\n  return (\n    <div css={tw`flex flex-col`}>\n      <div css={tw`flex items-center justify-between px-4 py-2 border-b border-black`}>\n        <h1 css={tw`m-0 text-sm`}>WH:AoS 戦術目標選択ツール</h1>\n        <small>Ver {version}</small>\n      </div>\n      <div>\n        {/* TODO: 配列を流して量産する関数を用意する */}\n        <Strategy\n          title=\"戦線崩壊\"\n          text=\"この戦術目標を開示するとき、戦場に配置されている敵軍開戦時アーミーのバトルラインユニットを1個選択せよ。開示したターン中に選択したユニットを撃破した場合、この戦術目標を達成する。選択されたユニットが味方モンスターの攻撃、あるいは味方モンスターのアビリティによって撃破された場合、追加の勝利点を1ポイント獲得する。\"\n          hasAdditionalPoint\n        />\n        <Strategy\n          title=\"征服\"\n          text=\"この戦術目標を開示するとき、対戦相手が確保している戦場に配置されている作戦目標を1個選択せよ。開示したターン終了時に選択した作戦目標を確保している場合、この戦術目標を達成する。\"\n        />\n        <Strategy\n          title=\"敵将を討て\"\n          text=\"このターン中に敵軍のジェネラルが戦死したならば、この戦術目標は達成される。その兵が味方モンスターの攻撃、あるいは味方モンスターのアビリティによって撃破された場合、追加の勝利点を1ポイント獲得する。\"\n          hasAdditionalPoint\n        />\n        <Strategy\n          title=\"獰猛な前進\"\n          text=\"この戦術目標を開示するとき、戦場に配置されている自軍側開戦時アーミーのユニットを3個選択せよ。選択したすべてのユニットが次の移動フェイズで全力移動を行い、互いに3mv以内で移動を終えた場合、この戦術目標を達成する。これらの3個のユニットがすべてモンスターの場合、追加の勝利点を1ポイント獲得する。\"\n          hasAdditionalPoint\n        />\n        <Strategy\n          title=\"打ち倒せ！\"\n          text=\"この戦術目標を開示するとき、戦場に配置されている敵モンスターを1体選択せよ。開示したターン中に選択したユニットを撃破した場合、この戦術目標を達成する。その敵モンスターが、味方モンスターの攻撃あるいは味方モンスターのアビリティによって撃破された場合、追加の勝利点を1ポイント獲得する。\"\n          hasAdditionalPoint\n        />\n        <Strategy\n          title=\"好戦的な覇権\"\n          text=\"この戦術目標を開示するとき、自軍陣地に完全に収まっていない作戦目標マーカーを2個選択せよ。開示したターン終了時に選択した2個の作戦目標を確保している場合、この戦術目標を達成する。\"\n        />\n        <Strategy\n          title=\"巨大な支配\"\n          text=\"この戦術目標を開示するとき、戦場に配置されている自軍側開戦時アーミーのモンスターを1体選択せよ。開示したターン終了時、選択したモンスターが自軍が確保している作戦目標マーカーを争奪しており、その作戦目標マーカーが敵モンスターによって争奪されていない場合、この戦術目標を達成する。\"\n        />\n        <Strategy\n          title=\"容赦なき進軍\"\n          text=\"開示したターン終了時、自軍側開戦時アーミーの2個以上のユニットが、敵軍側陣地に完全に収まっている場合、この戦術目標を達成する。これらの2個以上のユニットがモンスターの場合、追加の勝利点を1ポイント獲得する。\"\n          hasAdditionalPoint\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default StrategySelector\n"],"names":["Strategy","title","text","hasAdditionalPoint","useState","isOpen","setIsOpen","isSelected","setIsSelected","isSuccess","setIsSuccess","isEnd","setIsEnd","setSelected","e","stopPropagation","setAdditionalPoint","setSuccess","finish","additionalPoint","css","strategyStyles","activeStrategyStyles","disabledStrategyStyles","succeedStrategyStyles","onClick","titleStyles","titleCloseStyles","additionalPointStyles","textStyles","buttonStyles","buttonFailureStyles","buttonCancelStyles"],"sourceRoot":""}