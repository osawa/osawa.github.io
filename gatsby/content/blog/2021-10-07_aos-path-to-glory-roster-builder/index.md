---
title: 【AoS】栄光への道（Path to Glory）ロスタービルダーを作った
date: "2021-10-07"
tags: ['warhammer', 'aos', '3rd-edition', 'path-to-glory', 'react']
description: 例によってReactのあれやこれやでつまづき続けている
draft: true
---

[WH:AoS 「栄光への道」ロスタービルダー](https://osawa.github.io/path-to-glory-roster-builder/)

## なぜ作ったのか
- Path to Glory（以下PtG）がやりたかった
- 紙のロスターは一戦ごとにいちいち書き直すのが面倒
- Reactの勉強にもなりそうな気がした

---

## Changelog
#### v0.1
- localStorageでロード・セーブできるようにした

#### v0.0.3
- 変更後のデータを生成（deepmerge導入）

#### v0.0.2
- useContextで初期データを読み込めるようにした

#### v0.0.1
- ガワのみ作成

---

## まずいところ（v0.1）
- stateに全体のフォームをまとめたオブジェクトを突っ込んでしまったため、データ管理が面倒
  - ひとつのstateが全フォームフィールドに結びついているので、ひとつ変更すると全体が再レンダリングされてしまう
  - `useState`がデータをマージせず上書きする仕様のため、deepmergeを導入しなくてはならなくなった
- いまの仕様だとユニットの数が追加できない
- ロード・セーブに確認ダイアログを出す等しないと誤操作がありそう
- 増強チェックボックスがバグってるっぽい

## 対応予定
- 永久呪文／顕現にポイント欄を設ける
- 戦闘序列の合計ポイントを出す（永久呪文／顕現含む）
  - バトル用ロスターを組むときにないと微妙に不便

## いつか対応したいこと
- 複数ロスターの登録
- 戦闘序列から選択できる、バトル用ロスター作成機能の追加
- デザイン調整（いまはtailwindで適当にやってる）
  - （ロード・）セーブは画面下部固定がよさそう
- レスポンシブ（PC表示）対応
- フォームデータ連携
  - ユニット上限をもとに入力欄を増減させる（問題あるかも）
  - ロスターのバリデーション